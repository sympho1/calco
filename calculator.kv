<Mainwidget>:
    operation_obj: operation
    result_obj: result
    # clavier: clavier
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        size_hint_y: .35
        orientation: "vertical"
        BoxLayout:
            size_hint_y: .6
            Label:
                id: operation
                text: ""
                font_size: sp(40) if len(self.text) <= 15 else sp(25)
                color: 0, 0, 0, 1
                markup: True
                on_text:
                    # resultat.text = str(eval(self.text))
                    result.text = "" if self.text == "" else result.text
                    # root.get_result(self.text)
        BoxLayout:
            size_hint_y: .4
            padding: 0, 10
            Label:
                id: result
                # center: self.parent.center
                color: 236/255, 137/255, 116/255, 1
                text: ""
                markup: True
                # size: self.size
                font_size: sp(35) if len(self.text) <= 15 else sp(2)
    BoxLayout:
        size_hint_y: .65
        id: clavier
        BoxLayout:
            size_hint_x: .8
            canvas:
                Color:
                    rgba: 136/255, 135/255, 135/255, .4
                Rectangle:
                    pos: self.pos
                    size: self.size
            GridLayout:
                cols: 3
                rows: 4
                id: grid
                Clav:
                    text: "9"
                    on_press: self.click_add(operation)
                Clav:
                    text: "8"
                    on_press: self.click_add(operation)
                Clav:
                    text: "7"
                    on_press: self.click_add(operation)
                Clav:
                    text: "4"
                    on_press: self.click_add(operation)
                Clav:
                    text: "5"
                    on_press: self.click_add(operation)
                Clav:
                    text: "6"
                    on_press: self.click_add(operation)
                Clav:
                    text: "1"
                    on_press: self.click_add(operation)
                Clav:
                    text: "2"
                    on_press: self.click_add(operation)
                Clav:
                    text: "3"
                    on_press: self.click_add(operation)
                Clav:
                    text: "."
                    color: 236/255, 137/255, 116/255, 1
                    on_press: self.click_add(operation)
                Clav:
                    text: "0"
                    on_press: self.click_add(operation)
                Clav:
                    text: "="
                    on_press:
                        root.click_equal()
                
        BoxLayout:
            size_hint_x: .15
            canvas:
                Color:
                    rgba: 111/255, 107/255, 106/255, .7
                Rectangle:
                    pos: self.pos
                    size: self.size
            GridLayout:
                rows: 5
                LabButton:
                    text: "SUPPR"
                    markup: True
                    on_press:
                        app.supprim(operation)
                LabButton:
                    text: " / "
                    on_press: operation.text += self.text 
                LabButton:
                    text: " x "
                    on_press: operation.text += self.text 
                LabButton:
                    text: " - "
                    on_press: operation.text +=  self.text
                LabButton:
                    text: " + "
                    on_press:
                        operation.text += self.text
                
        BoxLayout:
            size_hint_x: .05
            canvas:
                Color:
                    rgba:  236/255, 137/255, 116/255, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
<Clav>:

<LabButton@ButtonBehavior+Label>:
